<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="goodsMapper">
  
  	<!-- Goods  -->
  	<resultMap type="goods" id="GoodsResultSet">
	  	<result column="G_NO" property="goodsNo"/>
	   	<result column="C_NAME" property="characterName"/>
	   	<result column="G_NAME" property="goodsName"/>
	   	<result column="G_BRAND" property="goodsBrand"/>
	   	<result column="G_CATEGORY" property="goodsCategory"/>
	   	<result column="G_STOCK" property="goodsStock"/>
	   	<result column="G_PRICE" property="goodsPrice"/>
	   	<result column="G_CONTENT" property="goodsContent"/>
	   	<result column="G_ORIGIN_NAME1" property="goodsOriginName1"/>
	   	<result column="G_CHANGE_NAME1" property="goodsChangeName1"/>
	   	<result column="G_ORIGIN_NAME2" property="goodsOriginName2"/>
	   	<result column="G_CHANGE_NAME2" property="goodsChangeName2"/>
	   	<result column="G_ORIGIN_NAME3" property="goodsOriginName3"/>
	   	<result column="G_CHANGE_NAME3" property="goodsChangeName3"/>
	   	<result column="G_ORIGIN_NAME4" property="goodsOriginName4"/>
	   	<result column="G_CHANGE_NAME4" property="goodsChangeName4"/>
	   	<result column="G_FILE_PATH" property="goodsFilePath"/>
	   	<result column="G_ENROLL_DATE" property="goodsEnrollDate"/>
	    <result column="G_STATUS" property="goodsStatus"/>
  	</resultMap>
  	
  	<!-- 리스트 조회 -->
	<select id="selectList" resultMap="GoodsResultSet">
		SELECT G_NO
			   ,G_BRAND
			   ,G_NAME
			   ,G_CATEGORY
			   ,G_STOCK
			   ,G_PRICE
			   ,G_CONTENT
			   ,G_ORIGIN_NAME1
			   ,G_CHANGE_NAME1
			   ,G_FILE_PATH
			   ,G_STATUS
		FROM TB_GOODS
		WHERE G_STATUS='Y'
			AND G_CATEGORY = #{category}
		ORDER BY G_NO DESC
	</select>
	
	<!-- 굿즈 등록 -->
	<insert id="insertGoods">
	INSERT INTO TB_GOODS(G_NO,
					  G_BRAND,
					  G_NAME,
					  G_CATEGORY,
					  G_PRICE,
					  G_STOCK,
					  G_ORIGIN_NAME1,
					  G_CHANGE_NAME1,
					  G_ORIGIN_NAME2,
					  G_CHANGE_NAME2,
					  G_ORIGIN_NAME3,
					  G_CHANGE_NAME3,
					  G_ORIGIN_NAME4,
					  G_CHANGE_NAME4,
					  G_FILE_PATH,
					  G_CONTENT)
				VALUES(SEQ_GNO.NEXTVAL
						,#{goodsBrand}
						,#{goodsName}
						,#{goodsCategory}
						,#{goodsPrice}
						,#{goodsStock}
						,#{goodsOriginName1}
						,#{goodsChangeName1}
						,#{goodsOriginName2}
						,#{goodsChangeName2}
						,#{goodsOriginName3}
						,#{goodsChangeName3}
						,#{goodsOriginName4}
						,#{goodsChangeName4}
						,#{goodsFilePath}
						,#{goodsContent})
	</insert>
	
	<!-- 굿즈 상세보기 -->
	<select id="selectBoard" resultMap="GoodsResultSet">
	SELECT G_NO,
		   G_BRAND,
		   G_NAME,
		   G_CATEGORY,
		   G_PRICE,
		   G_STOCK,
		   G_ORIGIN_NAME1,
		   G_CHANGE_NAME1,
		   G_ORIGIN_NAME2,
		   G_CHANGE_NAME2,
		   G_ORIGIN_NAME3,
		   G_CHANGE_NAME3,
		   G_ORIGIN_NAME4,
		   G_CHANGE_NAME4,
		   G_CONTENT
	FROM TB_GOODS
	WHERE G_STATUS = 'Y'
	AND G_NO = #{goodsNo}
	</select>
	
	
</mapper>
